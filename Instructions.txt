

# 1. To check the progress of running notebooks: use 'glances' at terminal
# if NEURON command is running -> you can check the progress @ Snudda/networks/FOLDER_NAME/log
# (in case glances is unistalled, just run : pip install glances)

# 2. Internet connection (needed only to use git push to master)
#test connection : see if it downloads this image by running this command:
wget https://fenix-ri.eu/sites/default/files/public/home/fenix-logo.svg
# if it does, it is connected
# if it says "unable to resolve" - it is not connected

#if it is not working do:
sudo nano /etc/resolv.conf
# ADD on the file
nameserver 8.8.4.4
nameserver 8.8.8.8
Ctrl X exit (Y for changes) ENTER again to mantain file name


# 3. Commiting changes to the Github:

(cd to the basal ganglia folder)
git status to check the changes
git add for each new/modified file you want to add 
(or git add . to include all)
git commit - m "comment" 
give email e user
git push origin master 
type password


# 4. Converting .ipynb files into .py ones
jupyter nbconvert --to script FILENAME.ipynb 

# 5.For the interactive graphics (in case they stop working/are uninstalled)
pip install ipywidgets
pip install ipympl==0.5.6



------------------------------------------- EBRAINS PLATFORM INSTRUCTIONS ----------------------------------------------
# Create a new Python Kernel to be used (for_snudda)

# 1. Open a Terminal and create a virtual environment
# NOTE! Virtualenv can be created only in /opt/app-root/src
cd /opt/app-root/src
unset PYTHONPATH
virtualenv for_snudda

# 2. Activate the environment
source /opt/app-root/src/for_snudda/bin/activate

# You will see a (for-snudda)$ at the beginning of the terminal line.

# 3. Install NEURON
pip install pip --upgrade
pip install neuron --upgrade

# 4. Fix the version of h5py, because snudda works with 2.10.0
pip uninstall h5py
pip install h5py==2.10.0
pip install zmq

# 5. Install Snudda (do not clone again, just use the current folder that is alreeady in the correct branch)
cd "/opt/app-root/src/drive/Shared with groups/BasalGanglia-Reproducible/Snudda"
pip3 install --upgrade -e .[dev]

# 6. Install jupyter in the virtualenv
pip install jupyter

# 7. Add the virtualenv as a jupyter kernel
ipython kernel install --name "for_snudda" --user

# 8. You can now select the created kernel your-env when you start Jupyter

# 9. Install utilities
pip install glances

#(for the interactive graphics)
pip install ipywidgets
pip install ipympl==0.5.6

# OTHER NOTES. Snudda can give an error when running simulate. In that case comment line 731 of snudda/core.py
#os.symlink(mDir,mechDir)